2000408 수요일

서블릿끼리 데이터를 공유할 방법은?

데이터보관소를 활용함녀 된다.

4종류가 있다.

그림하나로 정리한다


1)
웹 앱 시작하면 서블릿컨텍스트라는 보관소가 하나 생성됨. 웹앱이 종료될때까지 유지.
서블릿 컨텐스트에 저장이 된다면 어떤 서블릿, 어떤 리스너, 어떤 필터를 사용하든 그걸 이용하면 된다.

모든 공통으로 이용할 값은 여기초함
DAO,Sercixe IoC컨테이너.. 등 여기 보관 



2) 요청이 들어오면 서블렛을 실행. 그리고 서블릿이 응답을 한다. 
떄로는 서블릿이 다른 서블릿에 포워딩할 수도 있다. 포워딩당한놈이 응답한다.
떄로는 다른 서블릿을 인클루드 할 수 도 있다. 일큰루드 해서 응답한다.
요청이 왔을때 포워딩을하든 인클루딩을 하던 응답은 1번이다.

이 모든 서블릿들이 데이터를 공유하는 방법?

요청이 들어왔을 때 서블릿리퀘스트라는 객체가 생생됨 = 보관소의 역할

s1이 서블릿리퀘스트에 ㅂㅂㅂ를 저장하면 s2,도 s3도 꺼내 쓸쓰잇다. 
요청응답안해서 작동하는 서블릿끼리 공유하는 데이터는 서블릿 리퀘스트에 보관

예) 요청처리 데이터




3) 
요청이오고 jsp1을 실행, 다른 jsp로 포워딩, 인클루딩 가능
어째되었건 응답을 한다.
jsp가 작업을할 때 보조 객체로 tagHandler(특정 태그를 처리하는 역할)를 사용한다.

jsp가 데이터를 공유하는 방법 : pageContext
jsp1이 페이지 컨텍스트에 데이터를 넣으면 jsp2가 쓸 수 있음
jsp2가 페이지 컨텍스트에 데이터를 넣으면 jsp2가 쓸수있음
??? jsp가 핸들러랑 대화하는 법???

페이지 컨텐스트는 jsp당 각각 하나씩 생성됨.

요청발생시 서블릿리퀘스트 객체 생성되고 응답 완료될때까지 유지

jsp간에 데이터 공유시 서블릿 리퀘스트로 한다????

jsp 실행시 페이지컨텍스트생성됨. ksp실행이 끝나면 사라짐





4) 클라이언트가 접속하면 그 클라이언트가 접속하는 동안 HTTPSession이라는 보관소가 만들어지고 클라이언트의 접속이 끊어지는 순간
= 세선타임아웃 또는 로그아웃하는 경우 또는 부라우저 탭 닫기(종료도 포함) ...에 HttpSession없어짐
특정 사용자만 쓸 값이라면여기 포함

예 ) 로그인 사용자 정보, 트랜잭션 중 사용할 데이터 등


--------------

com.eomcs.web.ex09/10/11 다시 풀 백업


유효기간을 설정하면 쿠키는 컴퓨터를 꺼도 사라지지 않는다. 
로그인 저장- 30일로 하면 하드디스크에 특정 브라우저에 30일 쿠키 저장되어 있는다.

브라우저끼리는 쿠키를 공유하지 않는다. 



쿠키 통제하기 : 유효기간 사용범위(경로) 만 통제하면 된다. 






web.xml session 타임아웃 지정가능 src main webapp WEBINF web.xml에 내용 추가 


세션 무효화 - 로그아웃 구현시 




---------------------------------------------

HttpServlet상속받기

오버라이딩 dospost

원래있던 상단선언부 날림

request reponse로 길게 씀

서비스대신 doGET 에서 애드폼서블릿거 복붙

 ServletContext servletContext = getServletContext(); // request.getServletContext();와 같은 역할 (this.이 생략된 형태)


-------------



package com.eomcs.web.ex04; post와 get 의 차이 서블릿02


데이터를 리퀘스트라인(유알엘)에 붙여 보낼것인가 메시지바디에 넣어 보낼것인가
바디부분은 제한 이 없다! 당연히 긴글은 포스트



package com.eomcs.web.ex04;
